from app import app
from database.models import db, Question, Choice
from werkzeug.security import generate_password_hash
from database.models import User

# DISC理論に基づく100問の質問
# ビジネス環境で学生～経営者まで対応、未経験者でも理解可能
questions_100 = [
    # 1-10: 基本的なワークスタイル
    "新しいプロジェクトが割り当てられたとき、あなたの最初の行動は何ですか？",
    "チームメンバーと初めて会うとき、どのような印象を与えたいですか？",
    "締切が迫った作業に取り組むとき、あなたの心境はどうですか？",
    "会議で自分と異なる意見が出たとき、どのように反応しますか？",
    "新しいアイデアを思いついたとき、どのように行動しますか？",
    "職場で問題が発生したとき、あなたの役割は何だと感じますか？",
    "一日の仕事を計画するとき、何を最も重視しますか？",
    "自分の担当範囲が不明確なとき、どのように感じますか？",
    "上司や同僚からフィードバックを受けたとき、どう受け止めますか？",
    "困難な課題に直面したとき、どのようなアプローチを取りますか？",
    
    # 11-20: チームワークと協調性
    "グループで決定を下すとき、あなたはどのような役割を果たしますか？",
    "新しいチームメンバーが参加したとき、どのように接しますか？",
    "作業手順が変更になったとき、どのように対応しますか？",
    "仕事でミスをしてしまったとき、最初に何を考えますか？",
    "長期的な目標を設定するとき、どのような視点を持ちますか？",
    "自分の提案が却下されたとき、どのような気持ちになりますか？",
    "同僚が悩んでいる様子を見たとき、どのような対応をしますか？",
    "新しいシステムを導入するとき、どのような姿勢で臨みますか？",
    "仕事で最も充実感を感じるのはどのような場面ですか？",
    "チーム全体の成果向上のために、あなたが貢献できることは何ですか？",
    
    # 21-30: リーダーシップと責任感
    "理想的な職場環境とはどのようなものですか？",
    "リーダーの役割を任されたとき、最初に取り組むことは何ですか？",
    "予期しない変更が発生したとき、どのように受け止めますか？",
    "自分の得意分野を活かすとき、どのような行動を取りますか？",
    "他者からアドバイスを受けるとき、どのような姿勢でいますか？",
    "目標設定をするとき、どのような基準で考えますか？",
    "意見の対立が生じたとき、どのような解決方法を選びますか？",
    "業務の優先順位を決めるとき、何を判断基準にしますか？",
    "新しい挑戦の機会があるとき、どのような気持ちになりますか？",
    "多忙な時期に自分をコントロールするとき、どのような方法を使いますか？",
    
    # 31-40: コミュニケーションと関係構築
    "自分の考えを他者に伝えるとき、どのような工夫をしますか？",
    "他者の成功を見たとき、どのような感情を抱きますか？",
    "ストレスを感じたとき、どのような対処方法を選びますか？",
    "自分のミスに気づいたとき、どのような行動を取りますか？",
    "新しい知識を習得するとき、どのような学習方法を好みますか？",
    "他者に依頼をするとき、どのような点に注意しますか？",
    "信頼関係を築くために、日頃から心がけていることは何ですか？",
    "効果的な仕事の進め方について、あなたの考えは何ですか？",
    "チーム内で意見が分かれたとき、どのような役割を担いますか？",
    "自己成長を実感するのはどのような瞬間ですか？",
    
    # 41-50: 問題解決と意思決定
    "他者からの評価が気になるとき、どのような行動を取りますか？",
    "大きな目標に向かうとき、どのような計画の立て方をしますか？",
    "他者の意見を聞くとき、どのような姿勢で臨みますか？",
    "新しい環境に適応するとき、どのような行動を取りますか？",
    "自分の役割が明確になったとき、どのような気持ちになりますか？",
    "達成感を感じるのはどのような場面ですか？",
    "他者と協力するとき、最も重視することは何ですか？",
    "自分の意見が採用されなかったとき、どのような対応をしますか？",
    "複数の意見をまとめるとき、どのような工夫をしますか？",
    "未知の課題に直面したとき、どのような行動を取りますか？",
    
    # 51-60: サポートと協調
    "サポート役を担うとき、どのような点を意識しますか？",
    "他者の成功を目の当たりにしたとき、どのような気持ちになりますか？",
    "自分の意見が受け入れられたとき、どのような行動を取りますか？",
    "作業効率を向上させるために、どのような取り組みをしますか？",
    "意見の衝突が起きたとき、どのような対応を心がけますか？",
    "長時間の集中作業が必要なとき、どのような工夫をしますか？",
    "期待した成果が得られないとき、どのような行動を取りますか？",
    "チーム全体の雰囲気が悪いとき、どのような役割を果たしますか？",
    "新しい責任を任されたとき、どのような心境になりますか？",
    "他者からの期待を感じたとき、どのような行動を取りますか？",
    
    # 61-70: 失敗と学習
    "失敗を経験したとき、どのような対処方法を選びますか？",
    "成功の定義について、あなたはどのように考えますか？",
    "変化の激しい環境で働くとき、どのような対応をしますか？",
    "自分の弱点を指摘されたとき、どのような反応をしますか？",
    "グループをまとめる役割を担うとき、どのような気持ちになりますか？",
    "詳細な計画なしに行動するとき、どのような心境ですか？",
    "他者の感情に配慮するとき、どのような点を意識しますか？",
    "効果的な学習方法について、あなたの考えは何ですか？",
    "組織内での自分の立場について、どのような考えを持っていますか？",
    "他者からの依頼を受けたとき、どのような基準で判断しますか？",
    
    # 71-80: 価値観と信念
    "仕事の品質について、どのような基準を持っていますか？",
    "チームワークの本質について、あなたの考えは何ですか？",
    "困っている同僚を見かけたとき、どのような行動を取りますか？",
    "自己成長のために、日頃どのような取り組みをしていますか？",
    "信頼関係を構築するために、どのような行動を心がけていますか？",
    "新しい挑戦の機会に対して、どのような姿勢で臨みますか？",
    "他者の意見を聞くとき、どのような点に注意を払いますか？",
    "仕事のモチベーションを維持するために、どのような工夫をしていますか？",
    "効果的なコミュニケーションのために、どのような点を重視しますか？",
    "譲ることのできない価値観は何ですか？",
    
    # 81-90: 学習と適応
    "学習の機会に対して、どのような姿勢で取り組みますか？",
    "他者との関係において、最も大切にしていることは何ですか？",
    "自分の役割に対して、どのような責任感を持っていますか？",
    "最も効果的だと思う仕事の進め方は何ですか？",
    "他者からの評価について、どのような考えを持っていますか？",
    "問題解決のとき、どのようなアプローチを好みますか？",
    "新しいことを始めるとき、何を最も重視しますか？",
    "他者をサポートするとき、どのような点を心がけますか？",
    "自分の強みを活用するために、どのような工夫をしていますか？",
    "人間関係で避けたいと思うことは何ですか？",
    
    # 91-100: 将来と評価
    "成果を評価するとき、どのような基準を用いますか？",
    "協働するとき、最も重要だと考えることは何ですか？",
    "将来に対して、どのような期待を抱いていますか？",
    "困難な状況で、どのような支援を求めますか？",
    "多様な価値観について、どのような考えを持っていますか？",
    "最もやりがいを感じるのはどのような瞬間ですか？",
    "理想的なキャリアについて、どのような考えを持っていますか？",
    "組織への貢献について、どのような意識を持っていますか？",
    "持続可能な成長のために、何が最も重要だと考えますか？",
    "人生における仕事の意味について、あなたの考えは何ですか？"
]

# D型選択肢（主導型・結果重視）- 100個
# 特徴：目標達成、効率性、リーダーシップ、迅速な決断、結果重視
d_choices = [
    "目標を設定し、最短ルートで達成方法を組み立てる",
    "プロフェッショナルで頼りがいのある人物として認識されたい",
    "集中力が高まり、効率的に作業を進められる状態になる",
    "根拠を示しながら自分の見解を明確に表明する",
    "実現可能性を検証し、すぐに実行計画を立てる",
    "状況を整理し、解決に向けた方向性を示す存在でありたい",
    "成果に直結する活動を優先的に配置する",
    "自分なりに責任範囲を定義し、主体的に行動する",
    "改善すべき点を特定し、次回への対策を立てる",
    "問題を構造化し、最も効果的な解決策を選択する",
    "議論をまとめ、具体的な行動計画に落とし込む",
    "その人の能力や経験を把握し、適切な役割分担を提案する",
    "変更の背景を理解し、新しい手順を効率的に習得する",
    "原因を分析し、再発防止策を含めた改善計画を立てる",
    "測定可能な指標を設定し、進捗管理の仕組みを構築する",
    "却下された理由を分析し、より良い代案を検討する",
    "具体的で実行可能なアドバイスを提供する",
    "導入効果を最大化するための活用方法を検討する",
    "明確な成果を達成し、その価値が認められた場面",
    "プロセスの改善や効率化の提案を行う",
    "目標が明確で、成果が適切に評価される環境",
    "チーム全体の目標を設定し、役割分担を明確化する",
    "変更による影響を分析し、対応策を迅速に立案する",
    "専門性を活かし、チームの課題解決に貢献する",
    "実用性の高い内容を選択的に取り入れる",
    "達成可能で測定可能な具体的な数値目標を設定する",
    "事実に基づいた論理的な議論により合意形成を図る",
    "成果への影響度と緊急性を総合的に判断する",
    "目標達成に向けた具体的なステップとして捉える",
    "重要度に応じてタスクを整理し、集中的に取り組む",
    "要点を整理し、論理的で説得力のある構成で伝える",
    "自分の成長機会として前向きに捉える",
    "原因を特定し、体系的な解決策を実行する",
    "迅速に修正し、品質管理体制を強化する",
    "目標に応じて最も効率的な方法を選択する",
    "相手の状況を考慮し、Win-Winの関係を構築する",
    "一貫した成果を出すことで信頼を積み重ねる",
    "目標達成に向けた最短経路を常に模索する",
    "課題を整理し、解決に向けた具体的な提案を行う",
    "新しいスキルや知識を習得できた成果を実感した時",
    "成果向上に直結する具体的な改善行動を取る",
    "リソースと制約を考慮した現実的な工程表を作成する",
    "発言の根拠や論理性を重視しながら聞く",
    "環境分析を行い、最適な戦略を策定する",
    "責任が明確になることで、より集中して取り組める",
    "目標を達成し、その成果が組織に貢献できた場面",
    "各人の強みを活かした効率的な協力体制を構築する",
    "代替案を準備し、目標達成に向けた新たなアプローチを検討する",
    "情報を整理し、決定に必要な要素を明確に提示する",
    "問題の本質を見極め、根本的な解決策を検討する",
    "目標達成に向けた具体的で測定可能な貢献を意識する",
    "成功事例として他のプロジェクトにも応用を検討する",
    "成果に直結する活動を継続し、さらなる改善を目指す",
    "システム化やツール活用により作業効率を向上させる",
    "論理的な根拠を示し、建設的な議論を促進する",
    "集中できる環境を整備し、生産性を最大化する",
    "結果分析を行い、より効果的な手法を開発する",
    "状況を客観的に分析し、チーム全体の方向性を示す",
    "責任の重さを認識し、期待以上の成果を目指す",
    "組織の目標達成に向けた具体的な貢献を意識する",
    "教訓を体系化し、今後の意思決定精度を向上させる",
    "明確で測定可能な成果を継続的に創出すること",
    "変化を機会と捉え、新たな価値創造に挑戦する",
    "指摘内容を分析し、能力向上のための具体的計画を立てる",
    "組織全体の効率性向上を意識したリーダーシップを発揮する",
    "リスクを適切に管理しながら、必要な決断を下す",
    "相手の立場を理解しつつ、組織全体の利益を考慮する",
    "成果に直結する知識とスキルの習得を優先する",
    "自分の専門性と責任範囲を明確にして行動する",
    "組織への貢献度と自身の成長を両立できる案件を優先する",
    "成果の質と効率性の両方を追求する",
    "全体最適の観点から個人の役割と責任を定義する",
    "困っている人の課題を明確にし、具体的解決策を提案する",
    "明確な目標設定と進捗管理により継続的に向上を図る",
    "約束を確実に履行し、期待を上回る成果で応える",
    "成功確率を高めるための準備を徹底した上で取り組む",
    "情報の要点を把握し、意思決定に必要な部分を重視する",
    "組織の目標達成に向けた個人の貢献を最大化する",
    "効率性と効果性を両立させたコミュニケーションを実践する",
    "組織の成功に貢献するという使命感",
    "成果創出に直結する学習内容を重点的に習得する",
    "組織全体の成功に向けた個人の責任を全うする",
    "期待される役割と責任を明確にし、確実に遂行する",
    "目標達成に向けた最も効率的で効果的な方法を選択する",
    "成果を基準とした客観的で公正な評価を重視する",
    "論理的分析により問題の根本原因を特定し解決する",
    "成功確率を高めるための準備と計画を徹底する",
    "相手のニーズを把握し、最適なソリューションを提供する",
    "自分の専門性を活かし、組織の競争優位に貢献する",
    "非効率や非生産的な対立、曖昧な責任関係",
    "定量的で客観的な指標による公正な評価",
    "明確な役割分担と責任体制による効率的な協働",
    "組織の競争力向上と個人の専門性発展",
    "専門知識を持つ人材や効率的なシステムからの支援",
    "多様性を競争優位の源泉として戦略的に活用する",
    "明確な目標を達成し、その成果が組織に貢献できた時",
    "専門性を活かして組織の成長に貢献するキャリア",
    "組織の目標達成に向けた具体的で測定可能な貢献",
    "効率性と革新性を両立した持続的な競争優位の確立",
    "組織の成功に貢献し、社会に価値を創造する手段"
]

# I型選択肢（感化型・人間関係重視）- 100個  
# 特徴：社交性、楽観性、創造性、協調性、影響力
i_choices = [
    "チームメンバーと話し合いながら、みんなが楽しめる方向性を見つける",
    "親しみやすく、一緒に働きたいと思ってもらえる人になりたい",
    "チームワークが生まれ、みんなで協力する良い機会だと感じる",
    "様々な視点を理解し、全員が納得できる解決策を模索する",
    "周囲の人と共有し、一緒に発展させていく",
    "みんなが前向きに取り組める雰囲気を作る存在でありたい",
    "チーム全体のモチベーションと協調性を重視する",
    "周囲と話し合いながら、最適な役割分担を見つける",
    "成長の機会として前向きに受け止め、周囲にも感謝を伝える",
    "チームの多様な意見を活かした創造的なアプローチを模索する",
    "様々な意見を尊重し、全員が参加できる雰囲気を作る",
    "その人の個性や強みに関心を持ち、積極的にコミュニケーションを取る",
    "柔軟性を持って変化を受け入れ、チーム全体で適応する",
    "チームで経験を共有し、みんなで学び合う機会にする",
    "関係者全員が共感できるビジョンを描く",
    "感情的になりつつも、建設的な対話を続けようとする",
    "相手の気持ちに寄り添い、一緒に解決策を考える",
    "みんなで楽しく学びながら活用方法を発見する",
    "チーム一丸となって目標を達成し、その喜びを分かち合えた場面",
    "チーム全体のモチベーション向上とコミュニケーション活性化",
    "オープンで創造的、お互いを尊重し合える環境",
    "メンバー同士の関係性を深め、協力しやすい雰囲気を作る",
    "新しい可能性として受け入れ、みんなで柔軟に対応する",
    "個性や創造性を活かし、チームに新しいアイデアをもたらす",
    "相手の経験や感情を大切にしながら学び取る",
    "みんなが共感できる魅力的なビジョンを設定する",
    "お互いの考えを尊重し、創造的な第三の案を見つける",
    "チーム全体への影響を考慮し、関係性を重視する",
    "新しい経験や成長の機会として心から楽しみに感じる",
    "チームメンバーとのコミュニケーションを大切にしながら調整する",
    "相手の立場や感情を考慮し、共感を込めて伝える",
    "他者の成功を自分のことのように喜び、学ばせてもらう",
    "チームメンバーと協力し、みんなで解決策を見つける",
    "周囲に相談し、サポートを受けながら改善する",
    "他者との交流を通じて、楽しみながら学習する",
    "相手との関係性を大切にし、お互いにメリットのある形で依頼する",
    "相手を理解し、お互いの個性を尊重する関係を築く",
    "チーム全体が楽しく、やりがいを感じられる環境作り",
    "様々な立場の人の意見を聞き、みんなが納得できる提案をする",
    "新しい人との出会いや、スキルの幅が広がった時",
    "周囲の期待に応えようと、より積極的にコミュニケーションを取る",
    "関係者の想いを大切にしながら、実現可能な計画を立てる",
    "相手の話に共感を示し、対話を大切にする姿勢で聞く",
    "人とのつながりを大切にし、自然体で関係を築く",
    "明確な期待が示されることで、より意欲的に取り組める",
    "チーム一丸となって成果を上げ、その達成感を分かち合えた場面",
    "お互いの個性を活かし、楽しく協力できる関係性を築く",
    "相手の気持ちを理解し、お互いにとって良い解決策を探る",
    "多様な視点を組み合わせ、創造的な解決策を提示する",
    "チームの一員として新しい挑戦に向かう気持ちで取り組む",
    "チーム全体の成功を願い、みんなで喜び合える瞬間を大切にする",
    "他者の成功事例からインスピレーションを得る",
    "チームの雰囲気向上と、みんなのモチベーション維持を意識する",
    "楽しみながら創意工夫し、チーム全体の効率向上を図る",
    "お互いの気持ちを大切にし、建設的な対話を心がける",
    "チームメンバーとの交流を大切にし、楽しい雰囲気を保つ",
    "根本的な原因をチームで話し合い、みんなで改善策を考える",
    "チーム全体を元気づけ、前向きな雰囲気作りに貢献する",
    "新しい経験として前向きに受け止め、成長の機会と捉える",
    "チームの期待に応えたいという気持ちで、積極的に取り組む",
    "経験を他者と共有し、みんなの学びにつながるよう活かす",
    "お互いが認め合い、高め合える関係を築くこと",
    "変化を新しい可能性として捉え、チームで協力して適応する",
    "成長の機会として受け止め、周囲のサポートも受けながら改善する",
    "チーム全体を盛り上げ、みんなが楽しく取り組める環境を作る",
    "自由度が高まることで、より創造的なアプローチができると感じる",
    "相手の個性や価値観を理解し、その人らしさを大切にする",
    "体験を通じて楽しみながら、実践的に学習する",
    "チームの一員として、お互いを支え合う関係を大切にする",
    "相手のニーズや期待を理解した上で、最適な対応を心がける",
    "みんなが楽しく、やりがいを感じられる進め方を工夫する",
    "チーム全体の調和を大切にし、みんなが参加できる雰囲気を作る",
    "その人らしい悩みに共感し、一緒に解決策を考える",
    "仲間と励まし合いながら、楽しく成長していく",
    "お互いを理解し合い、信頼関係を深める日々の交流",
    "新しい出会いや経験に心を躍らせながら挑戦する",
    "相手の話を心から聞き、その人の想いを大切にする",
    "チーム全体が前向きになれるよう、楽しい雰囲気作りを心がける",
    "お互いの個性を活かし合えるコミュニケーションを大切にする",
    "人とのつながりや、お互いを大切にする気持ち",
    "新しい発見や気づきを楽しみながら学習に取り組む",
    "みんなとのつながりを大切にし、お互いを理解し支え合う",
    "チームの一員として、みんなで協力して責任を果たす",
    "楽しさとやりがいを両立できる進め方を常に模索する",
    "相手の気持ちに寄り添い、建設的なフィードバックを大切にする",
    "多様な視点を組み合わせた創造的なアプローチを好む",
    "チームワークを大切にし、みんなで成長していく過程を重視する",
    "相手の個性や強みに注目し、それを活かせるサポートを心がける",
    "自分らしさを大切にしながら、チームに貢献する方法を模索する",
    "誤解や対立よりも、理解し合い協力し合える関係性",
    "プロセスと結果の両方を大切にし、みんなで喜びを分かち合う",
    "お互いの個性を活かし合い、楽しく協力できる環境作り",
    "新しい出会いや経験を通じた、わくわくするような成長",
    "信頼できる仲間や、心から話し合える人からのサポート",
    "様々な価値観を理解し、それぞれの良さを活かし合う",
    "チーム一丸となって達成し、その喜びをみんなで分かち合えた時",
    "多様な経験を積み、人とのつながりを大切にするキャリア",
    "チームの一員として、みんなの成長と幸せに貢献する",
    "お互いを理解し支え合いながら、持続的に成長し続ける関係",
    "人とのつながりを通じて、お互いの人生を豊かにする手段"
]

# S型選択肢（安定型・協調重視）- 100個
# 特徴：安定性、協調性、忍耐力、サポート性、一貫性
s_choices = [
    "既存の成功事例を参考にしながら、安全で確実な方法を選択する",
    "信頼できる、一緒に働きやすい人として認識されたい",
    "責任感が強まり、確実に成果を出そうという気持ちになる",
    "全員の意見を丁寧に聞き、合意形成を重視する",
    "まず周囲の意見を聞き、慎重に検討してから行動する",
    "安定した環境で、みんなが安心して働ける基盤を作る存在でありたい",
    "継続性と安定性を重視し、着実に進められる計画を立てる",
    "周囲に確認を取りながら、適切な責任範囲を明確にする",
    "今後の改善に活かすため、内容をしっかりと受け止める",
    "時間をかけて慎重に検討し、リスクの少ない確実な方法を選ぶ",
    "全員の意見を公平に聞き、調整役として合意形成をサポートする",
    "その人が馴染みやすいよう、丁寧にサポートし段階的に関係を築く",
    "変更内容を十分理解し、チーム全体が混乱しないよう配慮する",
    "今後同じミスを防ぐため、手順を見直し改善策を検討する",
    "実現可能で持続可能な、着実に進められる目標を設定する",
    "却下された理由を理解し、改善点を検討する",
    "相手の気持ちに寄り添い、安心感を与えられるよう配慮する",
    "既存の業務への影響を慎重に検討しながら段階的に導入する",
    "チーム全体が協力して目標を達成し、安定した成果を継続できた場面",
    "チーム全体の安定性と継続的な改善をサポートする",
    "お互いを尊重し、安心して協力できる安定した環境",
    "チーム全体の調和を重視し、段階的に信頼関係を築く",
    "影響を慎重に検討し、チーム全体で協力して対応する",
    "これまでの経験を活かし、安定した品質で貢献する",
    "相手の立場を理解し、実用的で具体的な内容を重視する",
    "現実的で達成可能な、継続して取り組める目標を設定する",
    "お互いの立場を理解し、時間をかけて丁寧に話し合う",
    "安定性と継続性を考慮し、長期的な視点で判断する",
    "慎重に準備を進めながら、着実に取り組んでいく",
    "無理のない範囲で計画を調整し、確実に実行できるよう配慮する",
    "相手の立場を考慮し、理解しやすい方法で丁寧に伝える",
    "他者の成功を参考にし、自分も着実に成長していこうと思う",
    "周囲のサポートを受けながら、着実に解決策を実行する",
    "手順を確認し、同じミスを繰り返さないよう注意深く対応する",
    "基礎をしっかり固めながら、段階的に知識を積み重ねる",
    "相手の状況を十分理解し、無理のない範囲で協力を求める",
    "日々の小さな積み重ねにより、長期的な信頼関係を築く",
    "安定した品質を維持しながら、継続的な改善を心がける",
    "全員が安心して参加できるよう、丁寧に調整役を担う",
    "基礎的なスキルが身につき、安定して貢献できるようになった時",
    "期待に応えられるよう、より慎重かつ丁寧に取り組む",
    "無理のない範囲で、確実に実行できる現実的な計画を立てる",
    "相手の話を最後まで丁寧に聞き、理解を深めようとする",
    "段階的に環境に慣れ、安定した関係を築いてから本格的に活動する",
    "責任が明確になることで、より安心して集中できる",
    "継続的に安定した成果を出し、チームに貢献できた場面",
    "お互いの役割を理解し、安定した協力関係を維持する",
    "相手の意見を尊重し、無理のない範囲で調整を図る",
    "情報を整理し、全員が理解しやすい形で共有する",
    "リスクを慎重に検討し、安全で確実な方法を選択する",
    "チーム全体の安定性を考慮し、継続可能な方法でサポートする",
    "他者の成功に学び、自分も着実に成長していこうと感じる",
    "チームへの感謝を込めて、さらなる貢献を心がける",
    "手順を見直し、より安定した品質を維持できるよう改善する",
    "お互いの立場を理解し、冷静に話し合いを重ねる",
    "集中できる環境を整え、着実に取り組む",
    "原因を慎重に分析し、確実な改善策を段階的に実行する",
    "チーム全体の調和を保ち、安定した雰囲気作りに貢献する",
    "慎重に検討しながら、確実に責任を果たそうとする",
    "周囲の期待に応えられるよう、より丁寧に取り組む",
    "教訓を活かし、今後はより慎重に判断するよう心がける",
    "継続的で安定した成果を積み重ねること",
    "変化に段階的に適応し、安定した環境を維持する工夫をする",
    "指摘を真摯に受け止め、着実に改善に取り組む",
    "チーム全体の調和を大切にし、安定したまとめ役を果たす",
    "不安を感じるが、準備をしっかりして慎重に行動する",
    "相手の気持ちを第一に考え、配慮深く対応する",
    "基礎から段階的に、確実に理解できる方法を選ぶ",
    "安定した環境で、継続的に貢献できることに価値を見出す",
    "相手の状況を十分考慮し、無理のない範囲で協力する",
    "継続性と安定性を重視し、確実に成果につながる方法を選択する",
    "チーム全体の調和を大切にし、みんなが安心できる環境作り",
    "その人の状況を理解し、適切なサポートを継続的に提供する",
    "段階的な成長を意識し、無理のない範囲で継続的に努力する",
    "日々の積み重ねにより、長期的で安定した信頼関係を築く",
    "慎重に検討してから、確実に成功する可能性の高い挑戦を選ぶ",
    "相手の話を丁寧に聞き、理解を深めることを重視する",
    "安定した環境で、無理のない範囲で継続的にモチベーションを保つ",
    "相手に配慮した、丁寧で理解しやすいコミュニケーション",
    "安定性と継続性、そして他者への思いやり",
    "基礎をしっかり固めながら、段階的に学習を進める",
    "長期的で安定した関係を最も大切にする",
    "継続的で安定した貢献により、チームの基盤を支える",
    "安定した品質を継続的に提供し、信頼を積み重ねる方法",
    "継続的な成長と安定した貢献を基準とした評価",
    "段階的で慎重なアプローチにより、確実な解決を図る",
    "リスクを慎重に検討し、安全で確実な方法で始める",
    "相手の状況や気持ちを十分理解した上でのサポート",
    "これまでの経験を活かし、安定した品質で継続的に貢献する",
    "対立や急激な変化、不安定で予測困難な状況",
    "継続性と安定性を重視し、着実な積み重ねによる評価",
    "お互いを理解し合い、安定した協力関係を長期的に維持する",
    "安定した環境で、継続的に成長し貢献できる将来",
    "信頼できる人からの継続的で具体的なサポート",
    "多様な価値観を理解し、調和の取れた環境作りに活かす",
    "チーム全体で協力し、継続的に安定した成果を上げられた時",
    "安定した環境で専門性を深め、長期的に貢献するキャリア",
    "チームの安定性と継続的な成功を支える基盤としての貢献",
    "お互いを支え合い、長期的で安定した成長を実現する関係",
    "安定した環境で他者をサポートし、共に成長する手段"
]

# C型選択肢（慎重型・品質重視）- 100個
# 特徴：分析力、正確性、品質重視、論理性、慎重さ
c_choices = [
    "情報を詳細に分析し、最適な解決策を体系的に検討する",
    "専門性が高く、信頼できる仕事をする人として認識されたい",
    "集中力を高め、品質の向上に向けた精密な作業に取り組む",
    "客観的なデータや根拠をもとに、論理的な議論を展開する",
    "十分な検証を行い、実現可能性と品質を確保してから実行する",
    "専門知識を活かし、品質向上と問題解決に貢献する存在でありたい",
    "品質基準と効率性のバランスを考慮した、体系的な計画を策定する",
    "責任範囲と品質基準を明確にし、適切な手順で進める",
    "内容を詳細に分析し、改善すべき点を体系的に整理する",
    "問題を構造化して分析し、根本原因に基づいた解決策を策定する",
    "データと論理に基づいて意見を整理し、合理的な結論を導く",
    "その人のスキルや経験を把握し、適切な役割と責任を明確にする",
    "変更の影響を詳細に分析し、リスクを最小化する手順を策定する",
    "ミスの根本原因を分析し、システム的な再発防止策を構築する",
    "データに基づいた現実的で測定可能な目標を体系的に設定する",
    "却下の理由を詳細に分析し、改善された提案を再構築する",
    "状況を正確に把握し、最適な支援方法を論理的に検討する",
    "導入手順を詳細に計画し、品質基準を満たす活用方法を確立する",
    "高い品質基準を満たした成果を継続的に創出できた場面",
    "品質管理と継続的改善のためのシステム構築を提案する",
    "専門性が尊重され、品質向上に集中できる体系的な環境",
    "チーム全体の能力を分析し、最適な組織構造を設計する",
    "変更の詳細を分析し、品質を維持しながら効率的に対応する",
    "専門知識を体系化し、組織の知識基盤向上に貢献する",
    "実証性と実用性を重視し、厳選された内容を深く学習する",
    "データに基づいた現実的で、品質基準を満たす目標を設定する",
    "客観的な事実と論理に基づいて、体系的に議論を進める",
    "品質への影響と重要度を分析し、科学的根拠に基づいて判断する",
    "慎重に準備を重ね、品質基準を満たす確実性を高めてから取り組む",
    "作業手順を体系化し、品質管理のプロセスを確立する",
    "論理的な構成と正確なデータに基づいて、明確に伝える",
    "他者の成功要因を分析し、自分の改善に活かす",
    "根本原因を特定し、体系的で持続可能な解決策を実行する",
    "詳細に原因を分析し、品質管理システムを改善する",
    "体系的な学習方法により、専門知識を効率的に習得する",
    "依頼の背景と目的を明確にし、最適な協力方法を提案する",
    "専門性と品質に基づいた、継続的で信頼できる関係を構築する",
    "品質基準と効率性を両立した、科学的なアプローチを重視する",
    "客観的なデータに基づいて課題を分析し、合理的な解決策を提示する",
    "専門知識が体系化され、新たな洞察を得られた時",
    "品質向上に向けた具体的で測定可能な改善策を実行する",
    "リソースと制約を詳細に分析した、実現可能性の高い計画を策定する",
    "論理的な構成と客観的な根拠を重視して聞く",
    "環境を詳細に分析し、最適な戦略を体系的に策定する",
    "品質基準が明確になることで、より精密で効果的な作業ができる",
    "専門性を発揮し、高い品質基準を満たした成果を創出できた場面",
    "各人の専門性を活かした、効率的で品質の高い協力体制を構築する",
    "論理的な根拠に基づいて代案を検討し、改善された提案を行う",
    "情報を体系的に整理し、意思決定に必要な要素を明確に提示する",
    "問題の構造を分析し、根本的で持続可能な解決策を開発する",
    "品質基準を満たした、専門性の高い具体的な貢献を意識する",
    "成功要因を分析し、他の領域への応用可能性を検討する",
    "品質向上のプロセスを継続し、さらなる専門性の向上を目指す",
    "作業プロセスを分析し、品質と効率性を両立するシステムを構築する",
    "客観的なデータと論理的な根拠に基づいた建設的な議論を促進する",
    "集中できる環境を体系的に整備し、品質の向上を図る",
    "詳細な分析により根本原因を特定し、効果的な改善策を開発する",
    "状況を客観的に分析し、組織全体にとって最適な方向性を提示する",
    "責任の重さを専門的な観点から理解し、品質基準を満たす成果を目指す",
    "組織の専門性向上に向けた、体系的で継続的な貢献を意識する",
    "失敗を詳細に分析し、知識として体系化して組織の資産とする",
    "専門性に基づいた、測定可能で継続的な価値創造",
    "変化を分析し、品質を維持しながら最適化を図る",
    "指摘内容を詳細に分析し、専門性向上のための体系的な改善計画を策定する",
    "組織の専門性と品質向上を意識した、科学的なリーダーシップを発揮する",
    "十分な分析と準備に基づいて、慎重に行動する",
    "相手のニーズを正確に把握し、専門的な観点から最適な配慮を行う",
    "体系的で効率的な学習方法により、専門知識を深める",
    "自分の専門分野における責任と品質基準を明確に認識する",
    "客観的な分析に基づいて判断し、組織にとって最適な選択をする",
    "専門性と品質の両方を追求し、継続的な改善を実現する",
    "全体システムの最適化を考慮した個人の役割と責任を定義する",
    "その人の課題を正確に把握し、専門的で実効性の高い解決策を提案する",
    "体系的な知識習得と継続的な専門性向上を実現する",
    "専門知識に基づいた信頼性の高い約束を行い、確実に履行する",
    "リスクを詳細に分析し、成功確率を最大化する準備を行った上で挑戦する",
    "情報の正確性と論理的な整合性を重視して聞く",
    "専門知識と客観的分析に基づいて、持続可能なモチベーション管理を行う",
    "正確性と論理性を重視した、効果的なコミュニケーションを実践する",
    "専門性と品質に対する妥協のない追求心",
    "体系的で科学的なアプローチによる効率的な学習を実践する",
    "専門性に基づいた信頼関係と、品質を重視した継続的な協力",
    "専門知識を活かして組織の品質向上に貢献する責任を全うする",
    "専門性と品質基準に基づいた、最も効果的で効率的な方法を選択する",
    "客観的で専門的な基準による公正で正確な評価を重視する",
    "体系的な分析により問題を構造化し、科学的に解決する",
    "十分な準備と分析に基づいて、品質基準を満たす方法で開始する",
    "相手の状況を正確に分析し、専門的な観点から最適なサポートを提供する",
    "自分の専門性を体系的に分析し、組織の競争優位に最大限貢献する",
    "非論理的な判断や、品質基準が曖昧で一貫性のない環境",
    "客観的で専門的な基準による、正確で公正な評価",
    "専門性に基づいた明確な役割分担による、品質の高い協働",
    "専門知識を深め、組織の品質向上に継続的に貢献する将来",
    "専門知識を持つ人材や、高品質なシステムからの的確な支援",
    "多様性を専門的に分析し、組織の品質向上に戦略的に活用する",
    "専門性を発揮し、高い品質基準を満たした成果を継続的に創出できた時",
    "専門性を深めながら組織の品質向上に貢献するキャリア",
    "専門知識と品質基準に基づいた、組織の持続的発展への貢献",
    "専門性と品質を追求し、継続的な改善による価値創造",
    "専門知識を活かして組織と社会の品質向上に貢献する手段"
]

def complete_reset():
    """データベースの完全リセット"""
    with app.app_context():
        try:
            print("=== データベース完全リセット実行 ===")
            connection = db.engine.raw_connection()
            cursor = connection.cursor()
            cursor.execute("SET FOREIGN_KEY_CHECKS = 0")
            cursor.execute("TRUNCATE TABLE choice")
            cursor.execute("TRUNCATE TABLE question")
            cursor.execute("SET FOREIGN_KEY_CHECKS = 1")
            connection.commit()
            cursor.close()
            connection.close()
            print("✅ データベースリセット完了")
            return True
        except Exception as e:
            print(f"❌ リセットエラー: {e}")
            return False

def create_questions_and_choices():
    """改良版100問とDISC選択肢400個を作成"""
    with app.app_context():
        try:
            print("=== 改良版質問・選択肢作成開始 ===")
            
            # 管理者ユーザーの作成
            if User.query.filter_by(username='admin').first() is None:
                admin = User(
                    username='admin',
                    email='admin@example.com',
                    password_hash=generate_password_hash('admin123'),
                    is_admin=True
                )
                db.session.add(admin)
                db.session.commit()
                print("✅ 管理者ユーザー作成完了")

            # データ件数確認
            if len(questions_100) != 100:
                print(f"❌ 質問数が{len(questions_100)}件です（100件である必要があります）")
                return False
            
            choice_lists = [d_choices, i_choices, s_choices, c_choices]
            choice_names = ['D型', 'I型', 'S型', 'C型']
            
            for i, choices in enumerate(choice_lists):
                if len(choices) != 100:
                    print(f"❌ {choice_names[i]}選択肢が{len(choices)}件です（100件である必要があります）")
                    return False

            # 質問と選択肢の作成
            for i, question_text in enumerate(questions_100):
                question = Question(question_text=question_text)
                db.session.add(question)
                db.session.flush()  # IDを取得するためにフラッシュ
                
                # 各DISC型の選択肢を追加
                choice_types = ['D', 'I', 'S', 'C']
                choice_arrays = [d_choices, i_choices, s_choices, c_choices]
                
                for j, (disc_type, choice_array) in enumerate(zip(choice_types, choice_arrays)):
                    choice = Choice(
                        question_id=question.id,
                        choice_text=choice_array[i],
                        disc_type=disc_type
                    )
                    db.session.add(choice)
                
                # 進捗表示
                if (i + 1) % 10 == 0:
                    print(f"✅ {i + 1}問作成完了")

            db.session.commit()
            
            # 最終確認
            total_questions = Question.query.count()
            total_choices = Choice.query.count()
            
            print(f"🎉 作成完了！")
            print(f"📊 質問数: {total_questions}")
            print(f"📊 選択肢数: {total_choices}")
            print(f"📊 各質問の選択肢数: {total_choices // total_questions if total_questions > 0 else 0}")
            
            return True
            
        except Exception as e:
            db.session.rollback()
            print(f"❌ 作成エラー: {e}")
            return False

def verify_data():
    """作成されたデータの検証"""
    with app.app_context():
        try:
            print("\n=== データ検証開始 ===")
            
            total_questions = Question.query.count()
            total_choices = Choice.query.count()
            
            print(f"📊 質問数: {total_questions}")
            print(f"📊 選択肢数: {total_choices}")
            
            # 各DISC型の選択肢数を確認
            for disc_type in ['D', 'I', 'S', 'C']:
                count = Choice.query.filter_by(disc_type=disc_type).count()
                print(f"📊 {disc_type}型選択肢: {count}個")
            
            # サンプル質問の表示
            print(f"\n📝 サンプル質問（最初の3問）:")
            sample_questions = Question.query.limit(3).all()
            for i, q in enumerate(sample_questions, 1):
                print(f"{i}. {q.question_text}")
                for choice in q.choices:
                    print(f"   {choice.disc_type}: {choice.choice_text[:50]}...")
            
            success = (total_questions == 100 and total_choices == 400)
            
            if success:
                print(f"\n✅ 検証成功: 改良版100問とDISC選択肢400個が正常に作成されました")
            else:
                print(f"\n❌ 検証失敗: データに不整合があります")
            
            return success
            
        except Exception as e:
            print(f"❌ 検証エラー: {e}")
            return False

if __name__ == "__main__":
    print("🚀 DISC理論準拠 改良版質問・選択肢作成スクリプト")
    print("📌 対象: ビジネス環境（学生～経営者）")
    print("📌 質問: 100問")
    print("📌 選択肢: 各DISC型100個ずつ（計400個）")
    print("📌 特徴: 未経験者対応、意図的選択防止")
    
    if complete_reset():
        if create_questions_and_choices():
            if verify_data():
                print(f"\n🎉 改善点1完了！100問のDISC質問と400個の選択肢が正常に作成されました")
                print(f"📈 次の改善点2（固定問題2問とN値導入）に進むことができます")
            else:
                print(f"\n😞 データ検証に失敗しました")
        else:
            print(f"\n😞 質問・選択肢作成に失敗しました")
    else:
        print(f"\n😞 データベースリセットに失敗しました")